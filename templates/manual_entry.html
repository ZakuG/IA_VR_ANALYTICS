<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro Manual de Sesi√≥n - VR Analytics</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/manual-entry.css') }}">
</head>
<body>
    <div class="container">
        <a href="/dashboard" class="back-link">‚Üê Volver al Dashboard</a>
        
        <h2>üìù Registro Manual de Sesi√≥n VR</h2>
        <p class="subtitle">Registra los datos de una sesi√≥n de realidad virtual</p>
        
        <div id="alertSuccess" class="alert alert-success"></div>
        <div id="alertError" class="alert alert-error"></div>

        <form id="manualEntryForm">
            <div class="form-group">
                <label for="estudiante">Estudiante *</label>
                <select id="estudiante" name="estudiante" required>
                    <option value="">Selecciona un estudiante...</option>
                </select>
                <div class="help-text">Selecciona el estudiante que complet√≥ la sesi√≥n</div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="maqueta">Maqueta/Escenario *</label>
                    <select id="maqueta" name="maqueta" required>
                        <option value="">Selecciona una maqueta...</option>
                        <option value="Aire acondicionado">‚ùÑÔ∏è Aire Acondicionado</option>
                        <option value="Motor">‚öôÔ∏è Motor</option>
                        <option value="Otro">‚úèÔ∏è Otro (especificar)</option>
                    </select>
                    <input type="text" id="maqueta_otra" name="maqueta_otra" style="display:none; margin-top: 10px;" placeholder="Especifica la maqueta...">
                    <div class="help-text">Selecciona el escenario o maqueta utilizado</div>
                </div>

                <div class="form-group">
                    <label for="tiempo_minutos">‚è±Ô∏è Tiempo de Sesi√≥n *</label>
                    <div class="tiempo-container">
                        <div class="tiempo-field">
                            <input 
                                type="number" 
                                id="tiempo_minutos" 
                                name="tiempo_minutos" 
                                min="0" 
                                max="60" 
                                step="1" 
                                value="1"
                                placeholder="0"
                            >
                            <span class="tiempo-label">Min</span>
                        </div>
                        <span class="tiempo-separator">:</span>
                        <div class="tiempo-field">
                            <input 
                                type="number" 
                                id="tiempo_segundos" 
                                name="tiempo_segundos" 
                                min="0" 
                                max="59" 
                                step="1" 
                                value="0" 
                                placeholder="0"
                            >
                            <span class="tiempo-label">Seg</span>
                        </div>
                        <div class="tiempo-total">
                            <span class="tiempo-total-label">Total</span>
                            <span id="tiempoTotal" class="tiempo-total-value">60s</span>
                        </div>
                    </div>
                    <div class="help-text">Tiempo total de la sesi√≥n VR (minutos y segundos)</div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="puntaje">Puntaje *</label>
                    <div style="display: flex; align-items: center; gap: 10px; width: 100%;">
                        <input type="range" id="puntaje" name="puntaje" required min="0" max="7" step="1" value="4" style="flex: 1; width: 100%; outline: none; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -webkit-tap-highlight-color: transparent; cursor: pointer; margin: 0;" onfocus="this.blur()">
                        <span id="puntajeValue" style="font-size: 24px; font-weight: bold; color: #667eea; min-width: 50px; text-align: center; user-select: none;">4</span>
                        <span style="color: #999; user-select: none;">/ 7</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 12px; color: #999; margin-top: 5px;">
                        <span>‚≠ê Bajo</span>
                        <span>‚≠ê‚≠ê‚≠ê‚≠ê Regular</span>
                        <span>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excelente</span>
                    </div>
                    <div class="help-text">Puntaje obtenido (0-7 puntos, escala acad√©mica)</div>
                </div>

                <div class="form-group">
                    <label for="interacciones">Interacciones con IA</label>
                    <input type="number" id="interacciones" name="interacciones" min="0" max="50" value="0" placeholder="Ej: 5">
                    <div class="help-text">N√∫mero de veces que interactu√≥ con el asistente IA (0-50)</div>
                </div>
            </div>

            <div class="form-group">
                <label for="respuestas">Detalle de Respuestas (Opcional)</label>
                <textarea id="respuestas" name="respuestas" rows="4" placeholder='Ej: ["Respuesta correcta 1", "Respuesta incorrecta", "Respuesta correcta 2"]'></textarea>
                <div class="help-text">Lista de respuestas o notas adicionales (formato JSON opcional)</div>
            </div>

            <div class="button-group">
                <button type="submit">Registrar Sesi√≥n</button>
                <button type="button" class="btn-secondary" onclick="window.location.href='/dashboard'">Cancelar</button>
            </div>
        </form>
    </div>

    <script src="{{ url_for('static', filename='js/manual-entry.js') }}"></script>
</body>
</html>
